// @ts-check

const generatedPrefix = `
/* eslint-disable */
/* prettier-ignore */

/**
 * This file was automatically generated by 'graphql-codegen'.
 * Please do not edit this file directly.
 * To regenerate this file, run \`npm run generate:gql\`
 */
`;

const generatedPrefixGraphQL = `
"""
This file was automatically generated by 'graphql-codegen'.
Please do not edit this file directly.
To regenerate this file, run \`npm run generate:gql\`
"""
`;

/** @type {import("@graphql-codegen/cli").CodegenConfig} */
const config = {
  overwrite: true,
  schema: "src/graphql/type-defs.ts",
  emitLegacyCommonJSImports: false,
  generates: {
    "src/graphql/test-utilities/integration/": {
      documents: "src/graphql/**/__tests__/integration/*.ts",
      preset: "client-preset",
      config: {
        documentMode: "string",
      },
      presetConfig: {
        fragmentMasking: false,
      },
    },
    "src/graphql/test-utilities/unit/": {
      documents: "src/graphql/**/__tests__/unit/*.ts",
      preset: "client-preset",
      presetConfig: {
        fragmentMasking: false,
      },
    },
    "src/graphql/__types__.ts": {
      config: {
        useIndexSignature: true,
        showUnusedMappers: true,
        immutableTypes: true,
        strictScalars: true,
        enumsAsConst: true,

        scalars: {
          DateTime: "Date",
        },

        contextType: "@/lib/apolloServer.js#IContext",

        mapperTypeSuffix: "Model",

        mappers: {
          User: "@prisma/client#User",
          Cabin: "@prisma/client#Cabin",
          Booking: "@prisma/client#Booking",
          Organization: "@prisma/client#Organization",
          Member: "@prisma/client#Member",
        },
      },
      plugins: [
        {
          add: {
            content: generatedPrefix,
          },
        },
        "typescript",
        "typescript-resolvers",
      ],
    },
    "schema.graphql": {
      plugins: [
        {
          add: {
            content: generatedPrefixGraphQL,
          },
        },
        "schema-ast",
      ],
    },
  },
};

module.exports = config;
